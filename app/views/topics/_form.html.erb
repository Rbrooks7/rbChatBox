<%= render 'shared/errors', obj: @topic %>

<div class="row">
    <div class="well col-md-8 col-md-offset-2">
        <%= form_for(@topic, html: { multipart: true }) do |f| %>
            <%= f.label :title %>
            <%= f.text_field :title %>
            
            <%= f.label :body %>
            <%= f.text_area :body, rows: 10 %>
            
            <span class="picture">
                <%= f.file_field :picture, accept: 'image/jpeg, image/png, image/gif' %>
            </span>
        
            <%= f.submit(@topic.new_record? ? 'Create Post' : 'Edit Topic', class: "btn btn-success") %>
        <% end %>
    </div>
</div>

<script type="text/javascript">
    $('#topic_picture').bind('change', function(){
       size_in_megabytes = this.files[0].size/1024/1024;
       if (size_in_megabytes > 5) {
           alert('Max file size is 5MB. Please choose a smaller file')
       }
    });
</script>